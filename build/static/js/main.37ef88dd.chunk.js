(this["webpackJsonpcsapi-reception"]=this["webpackJsonpcsapi-reception"]||[]).push([[0],{318:function(e,t,n){},319:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},350:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},356:function(e,t){},358:function(e,t){},387:function(e,t){},388:function(e,t){},498:function(e,t){},669:function(e,t,n){},670:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(19),s=n.n(i),r=(n(318),n(122)),l=n(20),o=n(107),j=n.n(o),d=n(171),b=n(11),h=(n(319),"10.1.0.94:5000"),u=n(2);function x(e){var t=e.setToken,n=Object(c.useState)(null),a=Object(b.a)(n,2),i=a[0],s=a[1],r=Object(c.useState)(null),l=Object(b.a)(r,2),o=l[0],x=l[1];function O(e){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://"+h+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){alert("Login Failed")})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){var e=Object(d.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,O({username:i,password:o});case 3:(c=e.sent)?t(c):alert("Login Failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"container-bg",children:[Object(u.jsx)("img",{class:"splash-logo",id:"image",alt:"bg-crescent",src:"/logo.png"}),Object(u.jsxs)("div",{class:"login-container",children:[Object(u.jsxs)("div",{class:"login",children:[Object(u.jsx)("p",{className:"heading",children:"Crescent Steel"}),Object(u.jsx)("label",{className:"label2",children:Object(u.jsx)("b",{children:"User Name"})}),Object(u.jsx)("input",{type:"text",name:"Uname",id:"Uname",placeholder:"Username",onChange:function(e){s(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{className:"label2",children:Object(u.jsx)("b",{children:"Password"})}),Object(u.jsx)("input",{type:"Password",name:"Pass",id:"Pass",placeholder:"Password",onChange:function(e){x(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"button",name:"log",id:"log",value:"Log In Here",onClick:g})]}),Object(u.jsx)("div",{class:"imagelog",children:Object(u.jsx)("img",{src:"./12.jpeg",alt:"login",width:"550px",height:"450"})})]})]})})}var O=n(36),p=n.n(O),g=n(37),m=n.n(g),f=(n(339),function(){var e=Object(c.useState)(5),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),s=Object(b.a)(i,2),r=s[0],l=s[1],o=Object(c.useState)(0),j=Object(b.a)(o,2),d=j[0],x=j[1],O=Object(c.useState)(0),g=Object(b.a)(O,2),f=g[0],v=g[1],k=Object(c.useState)(0),C=Object(b.a)(k,2),y=C[0],w=C[1];return Object(c.useEffect)((function(){p.a.get("http://"+h+"/home_screen_renderer",{params:{date:m()().format().slice(0,-15)}}).then((function(e){w(e.data.total),x(e.data.remaining),l(e.data.checkout),v(e.data.defaulter)})).catch((function(e){alert("Failed: "+e+"\nPlease refresh your screen")}))}),[]),Object(c.useEffect)((function(){n>0?setTimeout((function(){return a(n-1)}),1e3):(p.a.get("http://"+h+"/home_screen_renderer",{params:{date:m()().format().slice(0,-15)}}).then((function(e){w(e.data.total),x(e.data.remaining),l(e.data.checkout),v(e.data.defaulter)})).catch((function(e){alert("Failed: "+e+"\n please Refresh your screen")})),a(30))})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{class:"container-bg",children:[Object(u.jsx)("img",{id:"image",class:"image",alt:"bg-crescent",src:"/logo.png"}),Object(u.jsx)("div",{class:"show-data-container",children:Object(u.jsxs)("div",{class:"show-data-wrapper",children:[Object(u.jsxs)("div",{class:"billie",children:[Object(u.jsx)("p",{children:"Total Visitors Today:\xa0"}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:"Checked out: \xa0"}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{style:{paddingRight:"40px"},children:"Remaining:"}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{style:{paddingRight:"40px"},children:"Defaulters:"})]}),Object(u.jsxs)("div",{class:"jean",children:[Object(u.jsx)("p",{children:y}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:r}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:d}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:f})]})]})})]})})}),v=(n(340),n(293)),k=n.n(v),C=n(104),y=n.n(C),w=function(e){var t=Object(l.f)(),n=Object(c.useState)(null),a=Object(b.a)(n,2),i=a[0],s=a[1],r=Object(c.useState)(null),o=Object(b.a)(r,2),j=o[0],d=o[1],x=Object(c.useState)(null),O=Object(b.a)(x,2),g=O[0],f=O[1],v=Object(c.useState)(null),C=Object(b.a)(v,2),w=C[0],S=C[1],N=Object(c.useState)(null),P=Object(b.a)(N,2),T=P[0],_=P[1],I=Object(c.useState)(null),D=Object(b.a)(I,2),F=D[0],R=D[1],H=Object(c.useState)(null),W=Object(b.a)(H,2),z=W[0],E=W[1],L=Object(c.useState)(null),V=Object(b.a)(L,2),A=(V[0],V[1]),Y=Object(c.useState)(null),J=Object(b.a)(Y,2),B=J[0],G=J[1];return Object(u.jsxs)("div",{className:"maincontainer3",children:[Object(u.jsx)("h1",{class:"text-center",style:{color:"white",paddingTop:"30px"},children:Object(u.jsx)("b",{children:" Contact Form"})}),Object(u.jsx)("div",{style:{paddingLeft:"77%"},children:Object(u.jsx)(k.a,{fontSize:"large",onClick:function(){t.push("/home")}})}),Object(u.jsxs)("div",{class:"container",children:[Object(u.jsxs)("div",{class:"mb-3",style:{paddingTop:"20px"},children:[Object(u.jsx)("label",{for:"Name",class:"form-label",children:Object(u.jsx)("b",{children:"Visitor Name"})}),Object(u.jsx)("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)},class:"form-control",id:"Name",name:"Name","aria-describedby":"emailHelp",placeholder:"Enter Your Name Here"}),Object(u.jsx)("div",{id:"emailHelp",class:"form-text"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"cnic",class:"form-label",children:Object(u.jsxs)("b",{children:["Cnic ",Object(u.jsx)("span",{style:{color:"red",paddingLeft:"15px"},children:B})]})}),Object(u.jsx)(y.a,{mask:"99999-9999999-9",className:"form-control",maskChar:null,onChange:function(e){d(e.target.value)},placeholder:"Enter Your cnic Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Person_Count",class:"form-label",children:Object(u.jsx)("b",{children:"Person Count"})}),Object(u.jsx)("input",{type:"number",onChange:function(e){return f(e.target.value)},class:"form-control",id:"Address",name:"Address",placeholder:"Enter Person Count Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Organization",class:"form-label",children:Object(u.jsx)("b",{children:"Name of Organization"})}),Object(u.jsx)("input",{type:"text",onChange:function(e){return S(e.target.value)},class:"form-control",id:"Organization",name:"Organization",placeholder:"Enter Name of Organization Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Contact_Number",class:"form-label",children:Object(u.jsx)("b",{children:"Contact Number"})}),Object(u.jsx)("input",{type:"number",onChange:function(e){return _(e.target.value)},class:"form-control",id:"Contact_Number",name:"Contact_Number",placeholder:"Enter Your Contact Number Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Check-In",class:"form-label",children:Object(u.jsx)("b",{children:"Check-In Date"})}),Object(u.jsx)("input",{type:"datetime-local",value:m()().format().slice(0,-6),class:"form-control",id:"Check-In",name:"Check-In",placeholder:"Enter Your Check-In Date Here",readOnly:!0})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Check-Out",class:"form-label",children:Object(u.jsx)("b",{children:"Check-Out Date"})}),Object(u.jsx)("input",{type:"datetime-local",class:"form-control",id:"Check-In",name:"Check-In",placeholder:"Enter Your Check-In Date Here",readOnly:!0})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Contact_Person",class:"form-label",children:Object(u.jsx)("b",{children:"Contact Person"})}),Object(u.jsx)("input",{type:"text",class:"form-control",onChange:function(e){return R(e.target.value)},id:"Contact_Person",name:"Contact_Person",placeholder:"Enter Your Contact Person Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Purpose",class:"form-label",children:Object(u.jsx)("b",{children:"Purpose of Visit"})}),Object(u.jsx)("input",{type:"text",onChange:function(e){return E(e.target.value)},class:"form-control",id:"Purpose",name:"Purpose",placeholder:"Enter Your Purpose of Visit Here"})]}),Object(u.jsx)("button",{style:{flex:"content",marginLeft:"600px",position:"relative",marginTop:"10px",marginBottom:"10px",width:"150px",height:"50px",fontSize:"25px",borderRadius:"25px",backgroundColor:"darkblue"},onClick:function(){var e=!1;null!=j&&15===j.length&&null!=i&&null!=g&&null!=w&&null!=T&&null!=F&&null!=z?(A(!0),e=!0):(A(!1),e=!1,G("Incomplete CNIC")),!0===e&&p.a.post("http://"+h+"/data_handling",{name:i,cnic:j,Person_Count:g,organization_name:w,contact:T,Check_In_Date:m()().format().slice(0,-6),Check_Out_Date:"",Contact_Person:F,Visit_Purpose:z}).then((function(e){alert("Successfully inserted"),t.push("/")})).catch((function(e){alert("Data Insertion failed! Please try again.")}))},type:"submit",class:"btn btn-primary",children:"Submit"})]})]})},S=n(712),N=n(713),P=n(715),T=n(719),_=n(718),I=n(714),D=n(716),F=n(727),R=n(717),H=(n(350),[{id:"name",label:"Name",minWidth:170},{id:"cnic",label:"CNIC",minWidth:100},{id:"Check_In_Date",label:"Check\xa0In\xa0Date\xa0and\xa0Time",minWidth:100},{id:"checkout",label:"Checkout",minWidth:100}]),W=Object(S.a)({root:{width:"95%",marginLeft:"2.5%"},container:{maxHeight:440}}),z=function(){var e=W(),t=Object(c.useState)(0),n=Object(b.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(10),r=Object(b.a)(s,2),l=r[0],o=r[1],j=Object(c.useState)(null),d=Object(b.a)(j,2),x=d[0],O=d[1];return Object(c.useEffect)((function(){p.a.get("http://"+h+"/checkout_screen",{params:{date:m()().format().slice(0,-15)}}).then((function(e){O(e.data.result)})).catch((function(e){alert("Data fetch Failed! ")}))}),[]),Object(u.jsxs)("div",{class:"maincontainer1",children:[Object(u.jsx)("h1",{children:"List of Remaining Visitors"}),Object(u.jsx)("div",{class:"table",children:x?Object(u.jsxs)(N.a,{className:e.root,children:[Object(u.jsx)(I.a,{className:e.container,children:Object(u.jsxs)(P.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(u.jsx)(D.a,{children:Object(u.jsx)(R.a,{children:H.map((function(e){return Object(u.jsx)(_.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(u.jsx)(T.a,{children:x.slice(a*l,a*l+l).map((function(e){return Object(u.jsx)(R.a,{hover:!0,role:"checkbox",tabIndex:-1,children:H.map((function(t){var n=e[t.id];return"checkout"===t.id?Object(u.jsx)(_.a,{align:t.align,children:Object(u.jsx)("a",{class:"checkout",onClick:function(){return function(e){p.a.post("http://"+h+"/checkout_screen",{body:{Check_In_Date:e.Check_In_Date,Check_Out_Date:m()().format().slice(0,-6),cnic:e.cnic}}).then((function(e){alert("Successfully Checked Out"),window.location.reload(!1)})).catch((function(e){alert("Failed to checkout! Please try again.")}))}(e)},children:" Checkout"})},t.id):Object(u.jsx)(_.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})}),Object(u.jsx)(F.a,{rowsPerPageOptions:[10,25,100],component:"div",count:x.length,rowsPerPage:l,page:a,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){o(+e.target.value),i(0)}})]}):null})]})},E=(n(352),function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top",children:Object(u.jsxs)("div",{class:"container-fluid",children:[Object(u.jsx)("a",{class:"navbar-brand",href:"/",children:"Reception"}),Object(u.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{class:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(u.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link active","aria-current":"page",href:"/",children:"Home"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/entry",children:"Entry"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/exit",children:"Exit"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/search",children:"Search"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/regulars",children:"Regulars"})})]}),Object(u.jsx)("a",{classname:"logout-btn",style:{backgroundColor:"#212529",color:"rgba(255,255,255,.55)",paddingRight:"30px"},href:"/",onClick:function(){return sessionStorage.clear()},children:"Logout"})]})]})})})}),L=n(43),V=n(17),A=n(729),Y=n(730),J=n(304),B=n(9),G=(n(731),n(723)),U=n(724),Q=n(720),K=n(294),M=n.n(K),q=n(672),X=(n(295),["children","classes","onClose"]);Object(B.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose,a=Object(J.a)(e,X);return Object(u.jsxs)(G.a,Object(V.a)(Object(V.a)({disableTypography:!0,className:n.root},a),{},{children:[Object(u.jsx)(q.a,{variant:"h6",children:t}),c?Object(u.jsx)(Q.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(u.jsx)(M.a,{})}):null]}))})),Object(B.a)((function(e){return{root:{padding:e.spacing(2)}}}))(U.a);var Z=n(296),$=n.n(Z),ee=n(725),te=(n(353),Object(S.a)({table:{minWidth:300},container:{maxWidth:350,width:350},row:{padding:0,height:"1rem"},rowHeading:{padding:12},root:{width:"95%",marginLeft:"2.5%"},container1:{maxHeight:440}})),ne=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center"}}}));function ce(e,t,n){return{checkbox:e,key:t,value:n}}var ae=[ce("","name",""),ce("","cnic",""),ce("","organization_name",""),ce("","From",""),ce("","To",""),ce("","Non_Checked_Out","")],ie=function(){var e=ne(),t=Object(c.useState)({name:{checked:!1,value:""},cnic:{checked:!1,value:""},organization_name:{checked:!1,value:""},From:{checked:!1,value:""},To:{checked:!1,value:""},Non_Checked_Out:{checked:!1,value:""}}),n=Object(b.a)(t,2),a=n[0],i=n[1],s=te(),r=Object(c.useState)(0),l=Object(b.a)(r,2),o=l[0],j=l[1],d=Object(c.useState)(10),x=Object(b.a)(d,2),O=x[0],g=x[1],m=Object(c.useState)(null),f=Object(b.a)(m,2),v=f[0],k=f[1],C=Object(c.useState)(!1),y=Object(b.a)(C,2),w=y[0],S=y[1],H=Object(c.useRef)(null),W=function(){var e;null===(e=H.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},z=function(e,t){i(Object(V.a)(Object(V.a)({},a),{},Object(L.a)({},t,Object(V.a)(Object(V.a)({},a[t]),{},{checked:e}))))},E=function(e,t){i(Object(V.a)(Object(V.a)({},a),{},Object(L.a)({},t,Object(V.a)(Object(V.a)({},a[t]),{},{value:e}))))};Object(c.useEffect)((function(){W(),S(!1)}),[v]);var J=[{id:"name",label:"Name",minWidth:170},{id:"cnic",label:"CNIC",minWidth:100},{id:"Person_Count",label:"Person\xa0Count",minWidth:100},{id:"organization_name",label:"Organization\xa0Name",minWidth:100},{id:"contact",label:"Contact",minWidth:100},{id:"Check_In_Date",label:"Check\xa0In\xa0Date\xa0and\xa0Time",minWidth:100},{id:"Check_Out_Date",label:"Check\xa0Out\xa0Date\xa0and\xa0Time",minWidth:100},{id:"Contact_Person",label:"Contact Person",minWidth:100},{id:"Visit_Purpose",label:"Visit Purpose",minWidth:100}];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"maincontainer2",children:[Object(u.jsx)("h1",{children:"Search"}),Object(u.jsx)("div",{className:"contain",children:Object(u.jsx)("div",{className:"filter",children:Object(u.jsx)(I.a,{component:N.a,className:s.container,children:Object(u.jsxs)(P.a,{className:s.table,"aria-label":"caption table",children:[Object(u.jsx)("caption",{children:Object(u.jsx)("button",{class:"btnCap",onClick:function(){W(),S(!0);for(var e=new $.a("00000-0000000-0"),t={},n=0,c=Object.entries(a);n<c.length;n++){var i=Object(b.a)(c[n],2),s=i[0],r=i[1];!0===r.checked&&(t="cnic"===s?Object(V.a)(Object(V.a)({},t),{},Object(L.a)({},s,e.apply(r.value))):"Non_Checked_Out"===s?Object(V.a)(Object(V.a)({},t),{},Object(L.a)({},s,r.checked)):Object(V.a)(Object(V.a)({},t),{},Object(L.a)({},s,r.value)))}console.log(t),p.a.get("http://"+h+"/search_screen",{params:Object(V.a)({},t)}).then((function(e){k(e.data.result)})).catch((function(e){S(!1),alert("Query failed! Please try again.")}))},children:"Submit"})}),Object(u.jsx)(D.a,{children:Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{className:s.rowHeading,children:"\xa0"}),Object(u.jsx)(_.a,{className:s.rowHeading,align:"center",children:Object(u.jsx)("h5",{children:"Keys"})})]})}),Object(u.jsx)(T.a,{children:ae.map((function(e){if("cnic"===e.key)return Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{className:s.row,align:"right",children:Object(u.jsx)(A.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){z(t.target.checked,e.key)}})}),Object(u.jsx)(_.a,{className:s.row,align:"center",children:Object(u.jsx)(Y.a,{id:"standard-basic",value:a.cnic.value,label:e.key+"(xxxxxxxxxxxxx)",onChange:function(t){E(t.target.value,e.key)}})})]},e.name);if("From"===e.key)return Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{className:s.row,align:"right",children:Object(u.jsx)(A.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){z(t.target.checked,e.key)}})}),Object(u.jsx)(_.a,{className:s.row,align:"center",children:Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-evenly",marginLeft:"20px"},children:[Object(u.jsx)("p",{style:{margin:"0px"},children:"From:"}),Object(u.jsx)("input",{style:{marginRight:"11px"},type:"date",class:"standard-basic",id:"Check-In",name:"Check-In",onChange:function(t){E(t.target.value,e.key)},placeholder:"Enter Your Check-In Date Here"})]})})]},e.name);if("To"===e.key)return Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{className:s.row,align:"right",children:Object(u.jsx)(A.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){z(t.target.checked,e.key)}})}),Object(u.jsx)(_.a,{className:s.row,align:"center",children:Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-evenly",marginLeft:"10px"},children:[Object(u.jsx)("p",{style:{margin:"0px"},children:"To:"}),Object(u.jsx)("input",{type:"date",class:"standard-basic",id:"Check-In",name:"Check-In",onChange:function(t){E(t.target.value,e.key)},placeholder:"Enter Your Check-In Date Here"})]})})]},e.name);if("Non_Checked_Out"===e.key){return Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{className:s.row,align:"right",children:Object(u.jsx)(A.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){z(t.target.checked,e.key)}})}),Object(u.jsx)(_.a,{className:s.row,align:"center",children:Object(u.jsx)("p",{style:{fontSize:"20px",paddingRight:"50px"},children:"Non checked out"})})]},e.name)}return Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{className:s.row,align:"right",children:Object(u.jsx)(A.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){z(t.target.checked,e.key)}})}),Object(u.jsx)(_.a,{className:s.row,align:"center",children:Object(u.jsx)(Y.a,{id:"standard-basic",label:e.key,onChange:function(t){E(t.target.value,e.key)}})})]},e.name)}))})]})})})}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"table",children:!1===w?v?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(N.a,{className:s.root,children:[Object(u.jsx)(I.a,{className:s.container1,children:Object(u.jsxs)(P.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(u.jsx)(D.a,{children:Object(u.jsx)(R.a,{children:J.map((function(e){return Object(u.jsx)(_.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(u.jsx)(T.a,{children:v.slice(o*O,o*O+O).map((function(e){return Object(u.jsx)(R.a,{hover:!0,role:"checkbox",tabIndex:-1,children:J.map((function(t){var n=e[t.id];return Object(u.jsx)(_.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})}),Object(u.jsx)(F.a,{rowsPerPageOptions:[10,25,100],component:"div",count:v.length,rowsPerPage:O,page:o,onPageChange:function(e,t){j(t)},onRowsPerPageChange:function(e){g(+e.target.value),j(0)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){!function(){var e=JSON.stringify(v),t="parms"+String(Date.now());sessionStorage.setItem(t,e),window.open("/generatepdf?sid="+t),sessionStorage.removeItem(t)}()},class:"generate",children:"Generate Pdf"})})]}):null:Object(u.jsx)("div",{className:e.root,children:Object(u.jsx)(ee.a,{color:"secondary",style:{color:"white",width:"60px",height:"60px"}})})}),Object(u.jsx)("div",{ref:H})]})})};var se=n(12),re=se.StyleSheet.create({page:{flexDirection:"column"},section:{margin:10,padding:10},heading:{fontSize:30,textAlign:"center",color:"blue"},head:{paddingTop:20},subheading:{paddingTop:10,fontSize:20,textAlign:"center"},image:{position:"absolute",paddingTop:25,paddingLeft:13,width:100,height:90},imageShow:{width:200,height:100},line:{margin:10,height:5,backgroundColor:"black"},generate:{float:"right",paddingTop:10,paddingLeft:30}}),le=function(e){var t=e.data,n=e.time;return Object(u.jsx)(se.Document,{children:Object(u.jsxs)(se.Page,{size:"A4",style:re.page,wrap:!0,children:[Object(u.jsxs)(se.View,{style:re.head,children:[Object(u.jsx)(se.Text,{style:re.heading,children:"Crescent Steels and Allied"}),Object(u.jsx)(se.Text,{style:re.heading,children:" Products Limited"}),Object(u.jsx)(se.Image,{style:re.image,src:"./logo.png",alt:"null"})]}),Object(u.jsx)(se.Text,{style:re.subheading,children:"Outsider Visitor Record"}),Object(u.jsxs)(se.Text,{style:re.generate,children:["Generated on: ",n]}),Object(u.jsx)(se.Text,{style:re.line}),t.map((function(e){return Object(u.jsxs)(se.View,{style:re.section,wrap:!1,children:[Object(u.jsxs)(se.Text,{children:["Name:",e.name]}),Object(u.jsxs)(se.Text,{children:["CNIC: ",e.cnic]}),Object(u.jsxs)(se.Text,{children:["Person Count: ",e.Person_Count]}),Object(u.jsxs)(se.Text,{children:["Organization Name: ",e.organization_name]}),Object(u.jsxs)(se.Text,{children:["Check In Date: ",e.Check_In_Date]}),Object(u.jsxs)(se.Text,{children:["Check Out Date: ",e.Check_Out_Date]}),Object(u.jsxs)(se.Text,{children:["Contact Person: ",e.Contact_Person]}),Object(u.jsxs)(se.Text,{children:["Visit Purpose: ",e.Visit_Purpose]})]})}))]})})},oe=se.StyleSheet.create({page:{flexDirection:"column"},section:{margin:10,padding:10},heading:{fontSize:30,textAlign:"center",color:"blue"},head:{paddingTop:20},subheading:{paddingTop:10,fontSize:20,textAlign:"center"},image:{position:"absolute",paddingTop:25,paddingLeft:13,width:100,height:90},line:{margin:10,height:5,backgroundColor:"black"},generate:{float:"right",paddingTop:10,paddingLeft:30}}),je=function(e){var t=e.data,n=e.time;return Object(u.jsx)(se.Document,{children:Object(u.jsxs)(se.Page,{size:"A4",style:oe.page,wrap:!0,children:[Object(u.jsxs)(se.View,{style:oe.head,children:[Object(u.jsx)(se.Text,{style:oe.heading,children:"Crescent Steels and Allied"}),Object(u.jsx)(se.Text,{style:oe.heading,children:" Products Limited"}),Object(u.jsx)(se.Image,{style:oe.image,src:"./logo.png",alt:"null"})]}),Object(u.jsx)(se.Text,{style:oe.subheading,children:"Regular Visitor Record"}),Object(u.jsxs)(se.Text,{style:oe.generate,children:["Generated on: ",n]}),Object(u.jsx)(se.Text,{style:oe.line}),t.map((function(e){return Object(u.jsxs)(se.View,{style:oe.section,wrap:!1,children:[Object(u.jsxs)(se.Text,{children:["Profession: ",e.profession]}),Object(u.jsxs)(se.Text,{children:["Name:",e.name]}),Object(u.jsxs)(se.Text,{children:["CNIC: ",e.cnic]}),Object(u.jsxs)(se.Text,{children:["Additional Information: ",e.additional_info]}),Object(u.jsx)(se.Text,{children:"Timings: "}),e.timing.map((function(e){return Object(u.jsx)(se.Text,{children:e})}))]})}))]})})},de=function(e){var t=Object(c.useState)(null),n=Object(b.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(null),r=Object(b.a)(s,2),l=r[0],o=r[1];return Object(c.useEffect)((function(){o(m()().format().slice(0,-15));var e=window.location.search.split("=")[1],t=JSON.parse(sessionStorage.getItem(e));sessionStorage.removeItem(e),i(t),console.log(t)}),[]),Object(u.jsx)(u.Fragment,{children:a?Object(u.jsx)("div",{className:"download",style:{width:"100%",height:"100vh"},children:Object(u.jsx)(se.PDFViewer,{style:{flex:1,width:"100%",height:"100%"},children:a[0].profession&&a[0].additional_info?Object(u.jsx)(je,{data:a,time:l}):Object(u.jsx)(le,{data:a,time:l})})}):null})},be=(n(669),[{id:"profession",label:"Profession",minWidth:170},{id:"name",label:"Name",minWidth:100},{id:"cnic",label:"CNIC",minWidth:100},{id:"timing",label:"Date",minWidth:100},{id:"additional_info",label:"Additional Information",minWidth:100}]),he=Object(S.a)({root:{width:"95%",marginLeft:"2.5%"},container:{maxHeight:440}});function ue(){var e=he(),t=Object(c.useState)(0),n=Object(b.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(10),r=Object(b.a)(s,2),l=r[0],o=r[1],j=Object(c.useState)(null),d=Object(b.a)(j,2),x=d[0],O=d[1],g=Object(c.useState)(null),f=Object(b.a)(g,2),v=f[0],k=f[1],C=Object(c.useState)(null),w=Object(b.a)(C,2),S=w[0],H=w[1],W=Object(c.useState)(null),z=Object(b.a)(W,2),E=z[0],A=z[1],Y=Object(c.useState)(null),J=Object(b.a)(Y,2),B=J[0],G=J[1],U=Object(c.useState)({profession:{checked:!1,value:""},cnic:{checked:!1,value:""},From:{checked:!1,value:""},To:{checked:!1,value:""}}),Q=Object(b.a)(U,2),K=Q[0],M=Q[1],q=function(e,t){M(Object(V.a)(Object(V.a)({},K),{},Object(L.a)({},t,Object(V.a)(Object(V.a)({},K[t]),{},{value:e}))))},X=function(e,t){M(Object(V.a)(Object(V.a)({},K),{},Object(L.a)({},t,Object(V.a)(Object(V.a)({},K[t]),{},{checked:e}))))};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"maincontainer4",children:[Object(u.jsx)("h1",{children:"Enter Regular Visitors"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{class:"form-cont",children:[Object(u.jsxs)("div",{class:"fields",children:[Object(u.jsx)("label",{for:"profession",class:"form-label",children:Object(u.jsx)("b",{children:"Profession"})}),Object(u.jsx)("input",{type:"text",style:{width:"16rem"},onChange:function(e){return k(e.target.value)},class:"form-control",placeholder:"Enter Profession Here"})]}),Object(u.jsxs)("div",{class:"fields",children:[Object(u.jsx)("label",{for:"Name",class:"form-label",children:Object(u.jsx)("b",{children:"Name"})}),Object(u.jsx)("input",{style:{width:"16rem"},type:"text",onChange:function(e){return H(e.target.value)},class:"form-control",placeholder:"Enter Name Here"})]}),Object(u.jsxs)("div",{class:"fields",children:[Object(u.jsx)("label",{for:"cnic",class:"form-label",children:Object(u.jsx)("b",{children:"CNIC"})}),Object(u.jsx)(y.a,{mask:"99999-9999999-9",className:"form-control",maskChar:null,style:{width:"16rem"},onChange:function(e){A(e.target.value)},placeholder:"Enter CNIC Here"})]})]}),Object(u.jsxs)("div",{class:"text-area",children:[Object(u.jsx)("label",{for:"Additional_info",class:"form-label",children:Object(u.jsx)("b",{children:"Additional Information"})}),Object(u.jsx)("textarea",{class:"form-control",rows:"3",onChange:function(e){G(e.target.value)}})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{style:{marginRight:"180px",marginTop:"-60px",float:"right",width:"150px",height:"50px",fontSize:"25px",borderRadius:"25px",backgroundColor:"darkblue"},onClick:function(){p.a.post("http://"+h+"/regular",{profession:v,name:S,cnic:E,date:m()().format().slice(0,-6),additional_info:B}).then((function(e){alert("Successfully inserted")})).catch((function(e){alert("Data Insertion failed! Please try again.")}))},type:"submit",class:"btn btn-primary",children:"Submit"})}),Object(u.jsx)("h1",{style:{paddingTop:"90px"},children:"Search Regular Visitors"}),Object(u.jsxs)("div",{className:"search-wrapper",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){X(e.target.checked,"profession")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)("input",{type:"text",class:"form-control",onChange:function(e){q(e.target.value,"profession")},"aria-label":"Text input with checkbox",placeholder:"Profession"})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){X(e.target.checked,"cnic")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)(y.a,{mask:"99999-9999999-9",className:"form-control",maskChar:null,onChange:function(e){q(e.target.value,"cnic")},placeholder:"CNIC"})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("p",{style:{color:"white",width:"45px",fontSize:"17px"},children:"From:"}),Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){X(e.target.checked,"From")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)("input",{type:"date",class:"form-control",onChange:function(e){q(e.target.value,"From")}})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("p",{style:{color:"white",width:"45px",fontSize:"17px"},children:"To:"}),Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){X(e.target.checked,"To")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)("input",{type:"date",class:"form-control",onChange:function(e){q(e.target.value,"To")}})]})})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{style:{marginRight:"180px",marginTop:"-50px",float:"right",width:"150px",height:"50px",fontSize:"25px",borderRadius:"25px",backgroundColor:"darkblue"},onClick:function(){for(var e={},t=0,n=Object.entries(K);t<n.length;t++){var c=Object(b.a)(n[t],2),a=c[0],i=c[1];!0===i.checked&&(e=Object(V.a)(Object(V.a)({},e),{},Object(L.a)({},a,i.value)))}console.log(e),p.a.get("http://"+h+"/regular",{params:Object(V.a)({},e)}).then((function(e){console.log(e.data.result),O(e.data.result)})).catch((function(e){alert("Query failed! Please try again.")}))},type:"submit",class:"btn btn-primary",children:"Search"})}),Object(u.jsx)("div",{class:"table1",children:x?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(N.a,{className:e.root,children:[Object(u.jsx)(I.a,{className:e.container,children:Object(u.jsxs)(P.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(u.jsx)(D.a,{children:Object(u.jsx)(R.a,{children:be.map((function(e){return Object(u.jsx)(_.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(u.jsx)(T.a,{children:x.slice(a*l,a*l+l).map((function(e){return Object(u.jsx)(R.a,{hover:!0,role:"checkbox",tabIndex:-1,children:be.map((function(t){var n=e[t.id];return"timing"===t.id?Object(u.jsx)(_.a,{align:t.align,children:n.map((function(e){return Object(u.jsx)("p",{children:e})}))},t.id):Object(u.jsx)(_.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})}),Object(u.jsx)(F.a,{rowsPerPageOptions:[10,25,100],component:"div",count:x.length,rowsPerPage:l,page:a,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){o(+e.target.value),i(0)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){!function(){var e=JSON.stringify(x),t="parms"+String(Date.now());sessionStorage.setItem(t,e),window.open("/generatepdf?sid="+t),sessionStorage.removeItem(t)}()},class:"generate",children:"Generate Pdf"})})]}):null})]})})}var xe=function(){var e=function(){var e=Object(c.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(b.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}}(),t=e.token,n=e.setToken;return t?Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(r.a,{children:Object(u.jsxs)(l.c,{children:[Object(u.jsxs)(l.a,{exact:!0,path:"/",children:[Object(u.jsx)(E,{}),Object(u.jsx)(f,{})]}),Object(u.jsxs)(l.a,{path:"/search",children:[Object(u.jsx)(E,{}),Object(u.jsx)(ie,{})]}),Object(u.jsxs)(l.a,{path:"/entry",children:[Object(u.jsx)(E,{}),Object(u.jsx)(w,{})]}),Object(u.jsxs)(l.a,{path:"/exit",children:[Object(u.jsx)(E,{}),Object(u.jsx)(z,{})]}),Object(u.jsx)(l.a,{path:"/generatepdf",children:Object(u.jsx)(de,{})}),Object(u.jsxs)(l.a,{path:"/regulars",children:[Object(u.jsx)(E,{}),Object(u.jsx)(ue,{})]})]})})}):Object(u.jsx)(x,{setToken:n})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,734)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(xe,{})}),document.getElementById("root")),Oe()}},[[670,1,2]]]);
//# sourceMappingURL=main.37ef88dd.chunk.js.map