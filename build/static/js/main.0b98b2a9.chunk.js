(this["webpackJsonpcsapi-reception"]=this["webpackJsonpcsapi-reception"]||[]).push([[0],{320:function(e,t,n){},321:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},352:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},358:function(e,t){},360:function(e,t){},389:function(e,t){},390:function(e,t){},500:function(e,t){},671:function(e,t,n){},672:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(19),s=n.n(i),r=(n(320),n(123)),l=n(20),o=n(107),j=n.n(o),d=n(171),b=n(11),h=(n(321),"10.1.0.94:5000"),u=n(2);function O(e){var t=e.setToken,n=Object(c.useState)(null),a=Object(b.a)(n,2),i=a[0],s=a[1],r=Object(c.useState)(null),l=Object(b.a)(r,2),o=l[0],O=l[1];function x(e){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://"+h+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){alert("Login Failed")})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(){var e=Object(d.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x({username:i,password:o});case 3:(c=e.sent)?t(c):alert("Login Failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"container-bg",children:[Object(u.jsx)("img",{class:"splash-logo",id:"image",alt:"bg-crescent",src:"/logo.png"}),Object(u.jsxs)("div",{class:"login-container",children:[Object(u.jsxs)("div",{class:"login",children:[Object(u.jsx)("p",{className:"heading",children:"Crescent Steel"}),Object(u.jsx)("label",{className:"label2",children:Object(u.jsx)("b",{children:"User Name"})}),Object(u.jsx)("input",{type:"text",name:"Uname",id:"Uname",placeholder:"Username",onChange:function(e){s(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{className:"label2",children:Object(u.jsx)("b",{children:"Password"})}),Object(u.jsx)("input",{type:"Password",name:"Pass",id:"Pass",placeholder:"Password",onChange:function(e){O(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"button",name:"log",id:"log",value:"Log In Here",onClick:p})]}),Object(u.jsx)("div",{class:"imagelog",children:Object(u.jsx)("img",{src:"./12.jpeg",alt:"login",width:"550px",height:"450"})})]})]})})}var x=n(36),g=n.n(x),p=n(37),m=n.n(p),f=(n(341),function(){var e=Object(c.useState)(5),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),s=Object(b.a)(i,2),r=s[0],l=s[1],o=Object(c.useState)(0),j=Object(b.a)(o,2),d=j[0],O=j[1],x=Object(c.useState)(0),p=Object(b.a)(x,2),f=p[0],v=p[1],k=Object(c.useState)(0),C=Object(b.a)(k,2),y=C[0],w=C[1];return Object(c.useEffect)((function(){g.a.get("http://"+h+"/home_screen_renderer",{params:{date:m()().format().slice(0,-15)}}).then((function(e){w(e.data.total),O(e.data.remaining),l(e.data.checkout),v(e.data.defaulter)})).catch((function(e){alert("Failed: "+e+"\nPlease refresh your screen")}))}),[]),Object(c.useEffect)((function(){n>0?setTimeout((function(){return a(n-1)}),1e3):(g.a.get("http://"+h+"/home_screen_renderer",{params:{date:m()().format().slice(0,-15)}}).then((function(e){w(e.data.total),O(e.data.remaining),l(e.data.checkout),v(e.data.defaulter)})).catch((function(e){alert("Failed: "+e+"\n please Refresh your screen")})),a(30))})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{class:"container-bg",children:[Object(u.jsx)("img",{id:"image",class:"image",alt:"bg-crescent",src:"/logo.png"}),Object(u.jsx)("div",{class:"show-data-container",children:Object(u.jsxs)("div",{class:"show-data-wrapper",children:[Object(u.jsxs)("div",{class:"billie",children:[Object(u.jsx)("p",{children:"Total Visitors Today:\xa0"}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:"Checked out: \xa0"}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{style:{paddingRight:"40px"},children:"Remaining:"}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{style:{paddingRight:"40px"},children:"Defaulters:"})]}),Object(u.jsxs)("div",{class:"jean",children:[Object(u.jsx)("p",{children:y}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:r}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:d}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:f})]})]})})]})})}),v=(n(342),n(294)),k=n.n(v),C=n(293),y=n.n(C),w={width:1280,height:720,facingMode:"user"},S=function(e){e.picture;var t=e.setPicture,n=a.a.useRef(null),c=a.a.useCallback((function(){var e=n.current.getScreenshot();t(e)}),[n]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{style:{padding:"0 0 0 0"},onClick:c,children:Object(u.jsx)(y.a,{audio:!1,height:160,ref:n,screenshotFormat:"image/jpeg",width:260,videoConstraints:w})})})},P=n(104),N=n.n(P),T=n(295),I=n.n(T),_=function(e){var t=Object(l.f)(),n=Object(c.useState)(null),a=Object(b.a)(n,2),i=a[0],s=a[1],r=Object(c.useState)(null),o=Object(b.a)(r,2),j=o[0],d=o[1],O=Object(c.useState)(null),x=Object(b.a)(O,2),p=x[0],f=x[1],v=Object(c.useState)(null),C=Object(b.a)(v,2),y=C[0],w=C[1],P=Object(c.useState)(null),T=Object(b.a)(P,2),_=T[0],D=T[1],F=Object(c.useState)(null),R=Object(b.a)(F,2),W=R[0],z=R[1],H=Object(c.useState)(null),E=Object(b.a)(H,2),L=E[0],V=E[1],A=Object(c.useState)(null),Y=Object(b.a)(A,2),J=Y[0],B=Y[1],G=Object(c.useState)(null),U=Object(b.a)(G,2),M=U[0],Q=U[1],K=Object(c.useState)(null),q=Object(b.a)(K,2),X=q[0],Z=q[1];return Object(u.jsxs)("div",{className:"maincontainer3",children:[Object(u.jsx)("h1",{class:"text-center",style:{color:"white",paddingTop:"30px"},children:Object(u.jsx)("b",{children:" Contact Form"})}),Object(u.jsx)("div",{style:{paddingLeft:"77%"},children:Object(u.jsx)(k.a,{fontSize:"large",onClick:function(){t.push("/home")}})}),Object(u.jsxs)("div",{class:"container",children:[Object(u.jsxs)("div",{class:"mb-3",style:{paddingTop:"20px"},children:[Object(u.jsx)("label",{for:"Name",class:"form-label",children:Object(u.jsx)("b",{children:"Visitor Name"})}),Object(u.jsx)("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)},class:"form-control",id:"Name",name:"Name","aria-describedby":"emailHelp",placeholder:"Enter Your Name Here"}),Object(u.jsx)("div",{id:"emailHelp",class:"form-text"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"cnic",class:"form-label",children:Object(u.jsxs)("b",{children:["Cnic ",Object(u.jsx)("span",{style:{color:"red",paddingLeft:"15px"},children:X})]})}),Object(u.jsx)(N.a,{mask:"99999-9999999-9",className:"form-control",maskChar:null,onChange:function(e){d(e.target.value)},placeholder:"Enter Your cnic Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Person_Count",class:"form-label",children:Object(u.jsx)("b",{children:"Person Count"})}),Object(u.jsx)("input",{type:"number",onChange:function(e){return f(e.target.value)},class:"form-control",id:"Address",name:"Address",placeholder:"Enter Person Count Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Organization",class:"form-label",children:Object(u.jsx)("b",{children:"Name of Organization"})}),Object(u.jsx)("input",{type:"text",onChange:function(e){return w(e.target.value)},class:"form-control",id:"Organization",name:"Organization",placeholder:"Enter Name of Organization Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Contact_Number",class:"form-label",children:Object(u.jsx)("b",{children:"Contact Number"})}),Object(u.jsx)("input",{type:"number",onChange:function(e){return D(e.target.value)},class:"form-control",id:"Contact_Number",name:"Contact_Number",placeholder:"Enter Your Contact Number Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Check-In",class:"form-label",children:Object(u.jsx)("b",{children:"Check-In Date"})}),Object(u.jsx)("input",{type:"datetime-local",value:m()().format().slice(0,-6),class:"form-control",id:"Check-In",name:"Check-In",placeholder:"Enter Your Check-In Date Here",readOnly:!0})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Check-Out",class:"form-label",children:Object(u.jsx)("b",{children:"Check-Out Date"})}),Object(u.jsx)("input",{type:"datetime-local",class:"form-control",id:"Check-In",name:"Check-In",placeholder:"Enter Your Check-In Date Here",readOnly:!0})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Contact_Person",class:"form-label",children:Object(u.jsx)("b",{children:"Contact Person"})}),Object(u.jsx)("input",{type:"text",class:"form-control",onChange:function(e){return z(e.target.value)},id:"Contact_Person",name:"Contact_Person",placeholder:"Enter Your Contact Person Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Purpose",class:"form-label",children:Object(u.jsx)("b",{children:"Purpose of Visit"})}),Object(u.jsx)("input",{type:"text",onChange:function(e){return V(e.target.value)},class:"form-control",id:"Purpose",name:"Purpose",placeholder:"Enter Your Purpose of Visit Here"})]}),Object(u.jsxs)("div",{class:"mb-3",children:[Object(u.jsx)("label",{for:"Picture",class:"form-label",children:Object(u.jsx)("b",{children:"Picture"})}),Object(u.jsx)(I.a,{style:{position:"absolute",marginLeft:"11rem",color:"white"},onClick:function(){B(null)}}),!1===M?Object(u.jsx)("p",{class:"incomplete",children:"Incomplete data entered"}):null,Object(u.jsx)("div",{class:"form-image-last",children:J?Object(u.jsx)("img",{src:J,alt:"./bulgaria.png"}):Object(u.jsx)(S,{picture:J,setPicture:B})})]}),Object(u.jsx)("button",{style:{flex:"content",marginLeft:"600px",position:"absolute",marginTop:"-70px",width:"150px",height:"50px",fontSize:"25px",borderRadius:"25px",backgroundColor:"darkblue"},onClick:function(){var e=!1;null!=j&&15===j.length&&null!=i&&null!=p&&null!=y&&null!=_&&null!=W&&null!=L&&null!=J?(Q(!0),e=!0):(Q(!1),e=!1,Z("Incomplete CNIC")),!0===e&&g.a.post("http://"+h+"/data_handling",{name:i,cnic:j,Person_Count:p,organization_name:y,contact:_,Check_In_Date:m()().format().slice(0,-6),Check_Out_Date:"",Contact_Person:W,Visit_Purpose:L,picture:J}).then((function(e){alert("Successfully inserted"),t.push("/")})).catch((function(e){alert("Data Insertion failed! Please try again.")}))},type:"submit",class:"btn btn-primary",children:"Submit"})]})]})},D=n(718),F=n(717),R=n(720),W=n(724),z=n(723),H=n(719),E=n(721),L=n(729),V=n(722),A=(n(352),n(17)),Y=n(306),J=n(9),B=n(733),G=n(714),U=n(716),M=n(715),Q=n(296),K=n.n(Q),q=n(674),X=n(297),Z=n.n(X),$=["children","classes","onClose"],ee=Object(J.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose,a=Object(Y.a)(e,$);return Object(u.jsxs)(G.a,Object(A.a)(Object(A.a)({disableTypography:!0,className:n.root},a),{},{children:[Object(u.jsx)(q.a,{variant:"h6",children:t}),c?Object(u.jsx)(M.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(u.jsx)(K.a,{})}):null]}))})),te=Object(J.a)((function(e){return{root:{padding:e.spacing(2)}}}))(U.a);function ne(e){var t=e.image,n=a.a.useState(!1),c=Object(b.a)(n,2),i=c[0],s=c[1],r=function(){s(!1)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(Z.a,{onClick:function(){s(!0)}}),Object(u.jsxs)(B.a,{onClose:r,"aria-labelledby":"customized-dialog-title",open:i,children:[Object(u.jsx)(ee,{id:"customized-dialog-title",onClose:r,children:"Image"}),Object(u.jsx)(te,{dividers:!0,children:Object(u.jsx)("img",{src:t,alt:"person's image"})})]})]})}var ce=[{id:"name",label:"Name",minWidth:170},{id:"cnic",label:"CNIC",minWidth:100},{id:"Check_In_Date",label:"Check\xa0In\xa0Date\xa0and\xa0Time",minWidth:100},{id:"picture",label:"Image",minWidth:100},{id:"checkout",label:"Checkout",minWidth:100}],ae=Object(D.a)({root:{width:"95%",marginLeft:"2.5%"},container:{maxHeight:440}}),ie=function(){var e=ae(),t=Object(c.useState)(0),n=Object(b.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(10),r=Object(b.a)(s,2),l=r[0],o=r[1],j=Object(c.useState)(null),d=Object(b.a)(j,2),O=d[0],x=d[1];return Object(c.useEffect)((function(){g.a.get("http://"+h+"/checkout_screen",{params:{date:m()().format().slice(0,-15)}}).then((function(e){x(e.data.result)})).catch((function(e){alert("Data fetch Failed! ")}))}),[]),Object(u.jsxs)("div",{class:"maincontainer1",children:[Object(u.jsx)("h1",{children:"List of Remaining Visitors"}),Object(u.jsx)("div",{class:"table",children:O?Object(u.jsxs)(F.a,{className:e.root,children:[Object(u.jsx)(H.a,{className:e.container,children:Object(u.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(u.jsx)(E.a,{children:Object(u.jsx)(V.a,{children:ce.map((function(e){return Object(u.jsx)(z.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(u.jsx)(W.a,{children:O.slice(a*l,a*l+l).map((function(e){return Object(u.jsx)(V.a,{hover:!0,role:"checkbox",tabIndex:-1,children:ce.map((function(t){var n=e[t.id];return"picture"===t.id?Object(u.jsx)(z.a,{align:t.align,children:Object(u.jsx)(ne,{image:n})},t.id):"checkout"===t.id?Object(u.jsx)(z.a,{align:t.align,children:Object(u.jsx)("a",{class:"checkout",onClick:function(){return function(e){g.a.post("http://"+h+"/checkout_screen",{body:{Check_In_Date:e.Check_In_Date,Check_Out_Date:m()().format().slice(0,-6),cnic:e.cnic}}).then((function(e){alert("Successfully Checked Out"),window.location.reload(!1)})).catch((function(e){alert("Failed to checkout! Please try again.")}))}(e)},children:" Checkout"})},t.id):Object(u.jsx)(z.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})}),Object(u.jsx)(L.a,{rowsPerPageOptions:[10,25,100],component:"div",count:O.length,rowsPerPage:l,page:a,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){o(+e.target.value),i(0)}})]}):null})]})},se=(n(354),function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top",children:Object(u.jsxs)("div",{class:"container-fluid",children:[Object(u.jsx)("a",{class:"navbar-brand",href:"/",children:"Reception"}),Object(u.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{class:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(u.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link active","aria-current":"page",href:"/",children:"Home"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/entry",children:"Entry"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/exit",children:"Exit"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/search",children:"Search"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/regulars",children:"Regulars"})})]}),Object(u.jsx)("a",{classname:"logout-btn",style:{backgroundColor:"#212529",color:"rgba(255,255,255,.55)",paddingRight:"30px"},href:"/",onClick:function(){return sessionStorage.clear()},children:"Logout"})]})]})})})}),re=n(43),le=n(731),oe=n(732),je=n(298),de=n.n(je),be=n(727),he=(n(355),Object(D.a)({table:{minWidth:300},container:{maxWidth:350,width:350},row:{padding:0,height:"1rem"},rowHeading:{padding:12},root:{width:"95%",marginLeft:"2.5%"},container1:{maxHeight:440}})),ue=Object(D.a)((function(e){return{root:{display:"flex",justifyContent:"center"}}}));function Oe(e,t,n){return{checkbox:e,key:t,value:n}}var xe=[Oe("","name",""),Oe("","cnic",""),Oe("","organization_name",""),Oe("","From",""),Oe("","To",""),Oe("","Non_Checked_Out","")],ge=function(){var e=ue(),t=Object(c.useState)({name:{checked:!1,value:""},cnic:{checked:!1,value:""},organization_name:{checked:!1,value:""},From:{checked:!1,value:""},To:{checked:!1,value:""},Non_Checked_Out:{checked:!1,value:""}}),n=Object(b.a)(t,2),a=n[0],i=n[1],s=he(),r=Object(c.useState)(0),l=Object(b.a)(r,2),o=l[0],j=l[1],d=Object(c.useState)(10),O=Object(b.a)(d,2),x=O[0],p=O[1],m=Object(c.useState)(null),f=Object(b.a)(m,2),v=f[0],k=f[1],C=Object(c.useState)(!1),y=Object(b.a)(C,2),w=y[0],S=y[1],P=Object(c.useRef)(null),N=function(){var e;null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},T=function(e,t){i(Object(A.a)(Object(A.a)({},a),{},Object(re.a)({},t,Object(A.a)(Object(A.a)({},a[t]),{},{checked:e}))))},I=function(e,t){i(Object(A.a)(Object(A.a)({},a),{},Object(re.a)({},t,Object(A.a)(Object(A.a)({},a[t]),{},{value:e}))))};Object(c.useEffect)((function(){N(),S(!1)}),[v]);var _=[{id:"name",label:"Name",minWidth:170},{id:"cnic",label:"CNIC",minWidth:100},{id:"Person_Count",label:"Person\xa0Count",minWidth:100},{id:"organization_name",label:"Organization\xa0Name",minWidth:100},{id:"contact",label:"Contact",minWidth:100},{id:"Check_In_Date",label:"Check\xa0In\xa0Date\xa0and\xa0Time",minWidth:100},{id:"Check_Out_Date",label:"Check\xa0Out\xa0Date\xa0and\xa0Time",minWidth:100},{id:"Contact_Person",label:"Contact Person",minWidth:100},{id:"Visit_Purpose",label:"Visit Purpose",minWidth:100},{id:"picture",label:"Image",minWidth:100}];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"maincontainer2",children:[Object(u.jsx)("h1",{children:"Search"}),Object(u.jsx)("div",{className:"contain",children:Object(u.jsx)("div",{className:"filter",children:Object(u.jsx)(H.a,{component:F.a,className:s.container,children:Object(u.jsxs)(R.a,{className:s.table,"aria-label":"caption table",children:[Object(u.jsx)("caption",{children:Object(u.jsx)("button",{class:"btnCap",onClick:function(){N(),S(!0);for(var e=new de.a("00000-0000000-0"),t={},n=0,c=Object.entries(a);n<c.length;n++){var i=Object(b.a)(c[n],2),s=i[0],r=i[1];!0===r.checked&&(t="cnic"===s?Object(A.a)(Object(A.a)({},t),{},Object(re.a)({},s,e.apply(r.value))):"Non_Checked_Out"===s?Object(A.a)(Object(A.a)({},t),{},Object(re.a)({},s,r.checked)):Object(A.a)(Object(A.a)({},t),{},Object(re.a)({},s,r.value)))}console.log(t),g.a.get("http://"+h+"/search_screen",{params:Object(A.a)({},t)}).then((function(e){k(e.data.result)})).catch((function(e){S(!1),alert("Query failed! Please try again.")}))},children:"Submit"})}),Object(u.jsx)(E.a,{children:Object(u.jsxs)(V.a,{children:[Object(u.jsx)(z.a,{className:s.rowHeading,children:"\xa0"}),Object(u.jsx)(z.a,{className:s.rowHeading,align:"center",children:Object(u.jsx)("h5",{children:"Keys"})})]})}),Object(u.jsx)(W.a,{children:xe.map((function(e){if("cnic"===e.key)return Object(u.jsxs)(V.a,{children:[Object(u.jsx)(z.a,{className:s.row,align:"right",children:Object(u.jsx)(le.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){T(t.target.checked,e.key)}})}),Object(u.jsx)(z.a,{className:s.row,align:"center",children:Object(u.jsx)(oe.a,{id:"standard-basic",value:a.cnic.value,label:e.key+"(xxxxxxxxxxxxx)",onChange:function(t){I(t.target.value,e.key)}})})]},e.name);if("From"===e.key)return Object(u.jsxs)(V.a,{children:[Object(u.jsx)(z.a,{className:s.row,align:"right",children:Object(u.jsx)(le.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){T(t.target.checked,e.key)}})}),Object(u.jsx)(z.a,{className:s.row,align:"center",children:Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-evenly",marginLeft:"20px"},children:[Object(u.jsx)("p",{style:{margin:"0px"},children:"From:"}),Object(u.jsx)("input",{style:{marginRight:"11px"},type:"date",class:"standard-basic",id:"Check-In",name:"Check-In",onChange:function(t){I(t.target.value,e.key)},placeholder:"Enter Your Check-In Date Here"})]})})]},e.name);if("To"===e.key)return Object(u.jsxs)(V.a,{children:[Object(u.jsx)(z.a,{className:s.row,align:"right",children:Object(u.jsx)(le.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){T(t.target.checked,e.key)}})}),Object(u.jsx)(z.a,{className:s.row,align:"center",children:Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-evenly",marginLeft:"10px"},children:[Object(u.jsx)("p",{style:{margin:"0px"},children:"To:"}),Object(u.jsx)("input",{type:"date",class:"standard-basic",id:"Check-In",name:"Check-In",onChange:function(t){I(t.target.value,e.key)},placeholder:"Enter Your Check-In Date Here"})]})})]},e.name);if("Non_Checked_Out"===e.key){return Object(u.jsxs)(V.a,{children:[Object(u.jsx)(z.a,{className:s.row,align:"right",children:Object(u.jsx)(le.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){T(t.target.checked,e.key)}})}),Object(u.jsx)(z.a,{className:s.row,align:"center",children:Object(u.jsx)("p",{style:{fontSize:"20px",paddingRight:"50px"},children:"Non checked out"})})]},e.name)}return Object(u.jsxs)(V.a,{children:[Object(u.jsx)(z.a,{className:s.row,align:"right",children:Object(u.jsx)(le.a,{defaultChecked:!1,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){T(t.target.checked,e.key)}})}),Object(u.jsx)(z.a,{className:s.row,align:"center",children:Object(u.jsx)(oe.a,{id:"standard-basic",label:e.key,onChange:function(t){I(t.target.value,e.key)}})})]},e.name)}))})]})})})}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"table",children:!1===w?v?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(F.a,{className:s.root,children:[Object(u.jsx)(H.a,{className:s.container1,children:Object(u.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(u.jsx)(E.a,{children:Object(u.jsx)(V.a,{children:_.map((function(e){return Object(u.jsx)(z.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(u.jsx)(W.a,{children:v.slice(o*x,o*x+x).map((function(e){return Object(u.jsx)(V.a,{hover:!0,role:"checkbox",tabIndex:-1,children:_.map((function(t){var n=e[t.id];return"picture"===t.id?Object(u.jsx)(z.a,{align:t.align,children:Object(u.jsx)(ne,{image:n})},t.id):Object(u.jsx)(z.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})}),Object(u.jsx)(L.a,{rowsPerPageOptions:[10,25,100],component:"div",count:v.length,rowsPerPage:x,page:o,onPageChange:function(e,t){j(t)},onRowsPerPageChange:function(e){p(+e.target.value),j(0)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){!function(){var e=JSON.stringify(v),t="parms"+String(Date.now());sessionStorage.setItem(t,e),window.open("/generatepdf?sid="+t),sessionStorage.removeItem(t)}()},class:"generate",children:"Generate Pdf"})})]}):null:Object(u.jsx)("div",{className:e.root,children:Object(u.jsx)(be.a,{color:"secondary",style:{color:"white",width:"60px",height:"60px"}})})}),Object(u.jsx)("div",{ref:P})]})})};var pe=n(12),me=pe.StyleSheet.create({page:{flexDirection:"column"},section:{margin:10,padding:10},heading:{fontSize:30,textAlign:"center",color:"blue"},head:{paddingTop:20},subheading:{paddingTop:10,fontSize:20,textAlign:"center"},image:{position:"absolute",paddingTop:25,paddingLeft:13,width:100,height:90},imageShow:{width:200,height:100},line:{margin:10,height:5,backgroundColor:"black"},generate:{float:"right",paddingTop:10,paddingLeft:30}}),fe=function(e){var t=e.data,n=e.time;return Object(u.jsx)(pe.Document,{children:Object(u.jsxs)(pe.Page,{size:"A4",style:me.page,wrap:!0,children:[Object(u.jsxs)(pe.View,{style:me.head,children:[Object(u.jsx)(pe.Text,{style:me.heading,children:"Crescent Steels and Allied"}),Object(u.jsx)(pe.Text,{style:me.heading,children:" Products Limited"}),Object(u.jsx)(pe.Image,{style:me.image,src:"./logo.png",alt:"null"})]}),Object(u.jsx)(pe.Text,{style:me.subheading,children:"Outsider Visitor Record"}),Object(u.jsxs)(pe.Text,{style:me.generate,children:["Generated on: ",n]}),Object(u.jsx)(pe.Text,{style:me.line}),t.map((function(e){return Object(u.jsxs)(pe.View,{style:me.section,wrap:!1,children:[Object(u.jsxs)(pe.Text,{children:["Name:",e.name]}),Object(u.jsxs)(pe.Text,{children:["CNIC: ",e.cnic]}),Object(u.jsxs)(pe.Text,{children:["Person Count: ",e.Person_Count]}),Object(u.jsxs)(pe.Text,{children:["Organization Name: ",e.organization_name]}),Object(u.jsxs)(pe.Text,{children:["Check In Date: ",e.Check_In_Date]}),Object(u.jsxs)(pe.Text,{children:["Check Out Date: ",e.Check_Out_Date]}),Object(u.jsxs)(pe.Text,{children:["Contact Person: ",e.Contact_Person]}),Object(u.jsxs)(pe.Text,{children:["Visit Purpose: ",e.Visit_Purpose]}),Object(u.jsx)(pe.Text,{children:"Picture: "}),e.picture?Object(u.jsx)(pe.Image,{style:me.imageShow,src:e.picture,alt:"null"}):Object(u.jsx)(pe.Text,{children:"No Picture"})]})}))]})})},ve=pe.StyleSheet.create({page:{flexDirection:"column"},section:{margin:10,padding:10},heading:{fontSize:30,textAlign:"center",color:"blue"},head:{paddingTop:20},subheading:{paddingTop:10,fontSize:20,textAlign:"center"},image:{position:"absolute",paddingTop:25,paddingLeft:13,width:100,height:90},line:{margin:10,height:5,backgroundColor:"black"},generate:{float:"right",paddingTop:10,paddingLeft:30}}),ke=function(e){var t=e.data,n=e.time;return Object(u.jsx)(pe.Document,{children:Object(u.jsxs)(pe.Page,{size:"A4",style:ve.page,wrap:!0,children:[Object(u.jsxs)(pe.View,{style:ve.head,children:[Object(u.jsx)(pe.Text,{style:ve.heading,children:"Crescent Steels and Allied"}),Object(u.jsx)(pe.Text,{style:ve.heading,children:" Products Limited"}),Object(u.jsx)(pe.Image,{style:ve.image,src:"./logo.png",alt:"null"})]}),Object(u.jsx)(pe.Text,{style:ve.subheading,children:"Regular Visitor Record"}),Object(u.jsxs)(pe.Text,{style:ve.generate,children:["Generated on: ",n]}),Object(u.jsx)(pe.Text,{style:ve.line}),t.map((function(e){return Object(u.jsxs)(pe.View,{style:ve.section,wrap:!1,children:[Object(u.jsxs)(pe.Text,{children:["Profession: ",e.profession]}),Object(u.jsxs)(pe.Text,{children:["Name:",e.name]}),Object(u.jsxs)(pe.Text,{children:["CNIC: ",e.cnic]}),Object(u.jsxs)(pe.Text,{children:["Additional Information: ",e.additional_info]}),Object(u.jsx)(pe.Text,{children:"Timings: "}),e.timing.map((function(e){return Object(u.jsx)(pe.Text,{children:e})}))]})}))]})})},Ce=function(e){var t=Object(c.useState)(null),n=Object(b.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(null),r=Object(b.a)(s,2),l=r[0],o=r[1];return Object(c.useEffect)((function(){o(m()().format().slice(0,-15));var e=window.location.search.split("=")[1],t=JSON.parse(sessionStorage.getItem(e));sessionStorage.removeItem(e),i(t),console.log(t)}),[]),Object(u.jsx)(u.Fragment,{children:a?Object(u.jsx)("div",{className:"download",style:{width:"100%",height:"100vh"},children:Object(u.jsx)(pe.PDFViewer,{style:{flex:1,width:"100%",height:"100%"},children:a[0].profession&&a[0].additional_info?Object(u.jsx)(ke,{data:a,time:l}):Object(u.jsx)(fe,{data:a,time:l})})}):null})},ye=(n(671),[{id:"profession",label:"Profession",minWidth:170},{id:"name",label:"Name",minWidth:100},{id:"cnic",label:"CNIC",minWidth:100},{id:"timing",label:"Date",minWidth:100},{id:"additional_info",label:"Additional Information",minWidth:100}]),we=Object(D.a)({root:{width:"95%",marginLeft:"2.5%"},container:{maxHeight:440}});function Se(){var e=we(),t=Object(c.useState)(0),n=Object(b.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(10),r=Object(b.a)(s,2),l=r[0],o=r[1],j=Object(c.useState)(null),d=Object(b.a)(j,2),O=d[0],x=d[1],p=Object(c.useState)(null),f=Object(b.a)(p,2),v=f[0],k=f[1],C=Object(c.useState)(null),y=Object(b.a)(C,2),w=y[0],S=y[1],P=Object(c.useState)(null),T=Object(b.a)(P,2),I=T[0],_=T[1],D=Object(c.useState)(null),Y=Object(b.a)(D,2),J=Y[0],B=Y[1],G=Object(c.useState)({profession:{checked:!1,value:""},cnic:{checked:!1,value:""},From:{checked:!1,value:""},To:{checked:!1,value:""}}),U=Object(b.a)(G,2),M=U[0],Q=U[1],K=function(e,t){Q(Object(A.a)(Object(A.a)({},M),{},Object(re.a)({},t,Object(A.a)(Object(A.a)({},M[t]),{},{value:e}))))},q=function(e,t){Q(Object(A.a)(Object(A.a)({},M),{},Object(re.a)({},t,Object(A.a)(Object(A.a)({},M[t]),{},{checked:e}))))};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"maincontainer4",children:[Object(u.jsx)("h1",{children:"Enter Regular Visitors"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{class:"form-cont",children:[Object(u.jsxs)("div",{class:"fields",children:[Object(u.jsx)("label",{for:"profession",class:"form-label",children:Object(u.jsx)("b",{children:"Profession"})}),Object(u.jsx)("input",{type:"text",style:{width:"16rem"},onChange:function(e){return k(e.target.value)},class:"form-control",placeholder:"Enter Profession Here"})]}),Object(u.jsxs)("div",{class:"fields",children:[Object(u.jsx)("label",{for:"Name",class:"form-label",children:Object(u.jsx)("b",{children:"Name"})}),Object(u.jsx)("input",{style:{width:"16rem"},type:"text",onChange:function(e){return S(e.target.value)},class:"form-control",placeholder:"Enter Name Here"})]}),Object(u.jsxs)("div",{class:"fields",children:[Object(u.jsx)("label",{for:"cnic",class:"form-label",children:Object(u.jsx)("b",{children:"CNIC"})}),Object(u.jsx)(N.a,{mask:"99999-9999999-9",className:"form-control",maskChar:null,style:{width:"16rem"},onChange:function(e){_(e.target.value)},placeholder:"Enter CNIC Here"})]})]}),Object(u.jsxs)("div",{class:"text-area",children:[Object(u.jsx)("label",{for:"Additional_info",class:"form-label",children:Object(u.jsx)("b",{children:"Additional Information"})}),Object(u.jsx)("textarea",{class:"form-control",rows:"3",onChange:function(e){B(e.target.value)}})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{style:{marginRight:"180px",marginTop:"-60px",float:"right",width:"150px",height:"50px",fontSize:"25px",borderRadius:"25px",backgroundColor:"darkblue"},onClick:function(){g.a.post("http://"+h+"/regular",{profession:v,name:w,cnic:I,date:m()().format().slice(0,-6),additional_info:J}).then((function(e){alert("Successfully inserted")})).catch((function(e){alert("Data Insertion failed! Please try again.")}))},type:"submit",class:"btn btn-primary",children:"Submit"})}),Object(u.jsx)("h1",{style:{paddingTop:"90px"},children:"Search Regular Visitors"}),Object(u.jsxs)("div",{className:"search-wrapper",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){q(e.target.checked,"profession")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)("input",{type:"text",class:"form-control",onChange:function(e){K(e.target.value,"profession")},"aria-label":"Text input with checkbox",placeholder:"Profession"})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){q(e.target.checked,"cnic")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)(N.a,{mask:"99999-9999999-9",className:"form-control",maskChar:null,onChange:function(e){K(e.target.value,"cnic")},placeholder:"CNIC"})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("p",{style:{color:"white",width:"45px",fontSize:"17px"},children:"From:"}),Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){q(e.target.checked,"From")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)("input",{type:"date",class:"form-control",onChange:function(e){K(e.target.value,"From")}})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"input-group mb-3",style:{width:"27rem"},children:[Object(u.jsx)("p",{style:{color:"white",width:"45px",fontSize:"17px"},children:"To:"}),Object(u.jsx)("div",{class:"input-group-text",style:{borderRadius:"15px 0px 0px 15px"},children:Object(u.jsx)("input",{class:"form-check-input mt-0",onChange:function(e){q(e.target.checked,"To")},type:"checkbox",value:"","aria-label":"Checkbox for following text input"})}),Object(u.jsx)("input",{type:"date",class:"form-control",onChange:function(e){K(e.target.value,"To")}})]})})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{style:{marginRight:"180px",marginTop:"-50px",float:"right",width:"150px",height:"50px",fontSize:"25px",borderRadius:"25px",backgroundColor:"darkblue"},onClick:function(){for(var e={},t=0,n=Object.entries(M);t<n.length;t++){var c=Object(b.a)(n[t],2),a=c[0],i=c[1];!0===i.checked&&(e=Object(A.a)(Object(A.a)({},e),{},Object(re.a)({},a,i.value)))}console.log(e),g.a.get("http://"+h+"/regular",{params:Object(A.a)({},e)}).then((function(e){console.log(e.data.result),x(e.data.result)})).catch((function(e){alert("Query failed! Please try again.")}))},type:"submit",class:"btn btn-primary",children:"Search"})}),Object(u.jsx)("div",{class:"table1",children:O?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(F.a,{className:e.root,children:[Object(u.jsx)(H.a,{className:e.container,children:Object(u.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(u.jsx)(E.a,{children:Object(u.jsx)(V.a,{children:ye.map((function(e){return Object(u.jsx)(z.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(u.jsx)(W.a,{children:O.slice(a*l,a*l+l).map((function(e){return Object(u.jsx)(V.a,{hover:!0,role:"checkbox",tabIndex:-1,children:ye.map((function(t){var n=e[t.id];return"timing"===t.id?Object(u.jsx)(z.a,{align:t.align,children:n.map((function(e){return Object(u.jsx)("p",{children:e})}))},t.id):Object(u.jsx)(z.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})}),Object(u.jsx)(L.a,{rowsPerPageOptions:[10,25,100],component:"div",count:O.length,rowsPerPage:l,page:a,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){o(+e.target.value),i(0)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){!function(){var e=JSON.stringify(O),t="parms"+String(Date.now());sessionStorage.setItem(t,e),window.open("/generatepdf?sid="+t),sessionStorage.removeItem(t)}()},class:"generate",children:"Generate Pdf"})})]}):null})]})})}var Pe=function(){var e=function(){var e=Object(c.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(b.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}}(),t=e.token,n=e.setToken;return t?Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(r.a,{children:Object(u.jsxs)(l.c,{children:[Object(u.jsxs)(l.a,{exact:!0,path:"/",children:[Object(u.jsx)(se,{}),Object(u.jsx)(f,{})]}),Object(u.jsxs)(l.a,{path:"/search",children:[Object(u.jsx)(se,{}),Object(u.jsx)(ge,{})]}),Object(u.jsxs)(l.a,{path:"/entry",children:[Object(u.jsx)(se,{}),Object(u.jsx)(_,{})]}),Object(u.jsxs)(l.a,{path:"/exit",children:[Object(u.jsx)(se,{}),Object(u.jsx)(ie,{})]}),Object(u.jsx)(l.a,{path:"/generatepdf",children:Object(u.jsx)(Ce,{})}),Object(u.jsxs)(l.a,{path:"/regulars",children:[Object(u.jsx)(se,{}),Object(u.jsx)(Se,{})]})]})})}):Object(u.jsx)(O,{setToken:n})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,736)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(Pe,{})}),document.getElementById("root")),Ne()}},[[672,1,2]]]);
//# sourceMappingURL=main.0b98b2a9.chunk.js.map